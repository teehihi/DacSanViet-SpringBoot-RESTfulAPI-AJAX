<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/admin}">
<head><title th:text="${video.isEdit != null and video.isEdit} ? 'Sửa Video' : 'Thêm Video'">Form Video</title></head>
<body>
<h4 layout:fragment="page-title" th:text="${video.isEdit != null and video.isEdit} ? 'Sửa Video' : 'Thêm Video'">Form</h4>
<div layout:fragment="content">
    <div class="row">
        <div class="col-md-10 offset-md-1 col-lg-8 offset-lg-2">
            <div class="form-card">
                <div class="form-header">
                    <i class="fas fa-video me-2"></i>
                    <h2 th:text="${video.isEdit != null and video.isEdit} ? 'Chỉnh Sửa Video' : 'Thêm Video Mới'">Form Video</h2>
                </div>
                <div class="form-body">
                    <form th:action="@{/admin/videos/saveOrUpdate}" method="POST" th:object="${video}" enctype="multipart/form-data">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="videold" class="form-label">
                                        <i class="fas fa-hashtag me-2"></i>Mã Video
                                    </label>
                                    <input type="hidden" th:field="*{videold}" id="videold" />
                                    <input type="text" readonly class="form-input" th:value="*{videold}" 
                                           th:placeholder="${video.isEdit != null and video.isEdit} ? '' : 'Tự động tạo'" />
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="views" class="form-label">
                                        <i class="fas fa-eye me-2"></i>Lượt Xem
                                    </label>
                                    <input type="number" th:field="*{views}" id="views" 
                                           class="form-input" placeholder="0" min="0" />
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="title" class="form-label">
                                        <i class="fas fa-heading me-2"></i>Tiêu Đề <span class="required">*</span>
                                    </label>
                                    <input type="text" th:field="*{title}" id="title" 
                                           class="form-input" placeholder="Nhập tiêu đề video" required />
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="description" class="form-label">
                                        <i class="fas fa-align-left me-2"></i>Mô Tả
                                    </label>
                                    <textarea th:field="*{description}" id="description" 
                                              class="form-textarea" rows="4" placeholder="Nhập mô tả video"></textarea>
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="poster" class="form-label">
                                        <i class="fas fa-link me-2"></i>URL Poster
                                    </label>
                                    <input type="text" th:field="*{poster}" id="poster" 
                                           class="form-input" placeholder="Nhập URL poster hoặc tải lên bên dưới" />
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="posterFile" class="form-label">
                                        <i class="fas fa-upload me-2"></i>Tải Lên Poster
                                    </label>
                                    <div class="file-upload-wrapper">
                                        <input type="file" name="posterFile" id="posterFile" class="file-input" accept="image/*" />
                                        <label for="posterFile" class="file-label">
                                            <i class="fas fa-cloud-upload-alt me-2"></i>
                                            <span>Chọn file hoặc kéo thả vào đây</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="categoryId" class="form-label">
                                        <i class="fas fa-folder me-2"></i>Danh Mục
                                    </label>
                                    <select th:field="*{categoryId}" id="categoryId" class="form-select">
                                        <option value="">-- Chọn danh mục --</option>
                                        <option th:each="category : ${categories}" 
                                                th:value="${category.categoryId}" 
                                                th:text="${category.categoryname}"></option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="checkbox-card">
                                        <input type="checkbox" th:field="*{active}" id="active" class="checkbox-input" />
                                        <label for="active" class="checkbox-label">
                                            <i class="fas fa-check-circle me-2"></i>Kích Hoạt
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <input type="hidden" th:field="*{isEdit}" />
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-submit">
                                <i class="fas fa-save me-2"></i>
                                <span th:text="${video.isEdit != null and video.isEdit} ? 'Cập Nhật' : 'Lưu Lại'">Lưu</span>
                            </button>
                            <a th:href="@{/admin/videos}" class="btn-cancel">
                                <i class="fas fa-times me-2"></i>Hủy Bỏ
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        .form-card { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 20px; overflow: hidden; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.08); }
        .form-header { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 25px 30px; display: flex; align-items: center; color: #fff; }
        .form-header h2 { margin: 0; font-size: 1.5rem; font-weight: 700; }
        .form-body { padding: 35px; }
        .form-group { margin-bottom: 0; }
        .form-label { display: block; color: #e2e8f0; font-weight: 600; margin-bottom: 10px; font-size: 0.95rem; }
        .required { color: #f5576c; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 14px 18px; background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 12px; color: #e2e8f0; font-size: 0.95rem; transition: all 0.3s; font-family: 'Segoe UI', sans-serif; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #fa709a; background: rgba(255, 255, 255, 0.08); box-shadow: 0 0 0 4px rgba(250, 112, 154, 0.1); }
        .form-input::placeholder, .form-textarea::placeholder { color: #64748b; }
        .form-input:read-only { background: rgba(255, 255, 255, 0.02); cursor: not-allowed; }
        .form-textarea { resize: vertical; min-height: 100px; }
        .file-upload-wrapper { position: relative; }
        .file-input { position: absolute; opacity: 0; width: 0; height: 0; }
        .file-label { display: flex; align-items: center; justify-content: center; padding: 30px; background: rgba(255, 255, 255, 0.03); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 12px; color: #8b9bb4; cursor: pointer; transition: all 0.3s; margin: 0; }
        .file-label:hover { background: rgba(250, 112, 154, 0.1); border-color: #fa709a; color: #fa709a; }
        .checkbox-card { background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 14px 18px; transition: all 0.3s; cursor: pointer; }
        .checkbox-card:has(.checkbox-input:checked) { background: rgba(250, 112, 154, 0.1); border-color: #fa709a; }
        .checkbox-input { display: none; }
        .checkbox-label { color: #e2e8f0; font-weight: 600; cursor: pointer; margin: 0; display: flex; align-items: center; }
        .form-actions { display: flex; gap: 15px; margin-top: 35px; padding-top: 25px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .btn-submit { flex: 1; padding: 15px 30px; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #fff; border: none; border-radius: 12px; font-weight: 600; font-size: 1rem; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(250, 112, 154, 0.3); }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(250, 112, 154, 0.4); }
        .btn-cancel { padding: 15px 30px; background: rgba(255, 255, 255, 0.05); color: #8b9bb4; border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 12px; font-weight: 600; font-size: 1rem; text-decoration: none; transition: all 0.3s; display: inline-flex; align-items: center; }
        .btn-cancel:hover { background: rgba(255, 255, 255, 0.08); border-color: rgba(255, 255, 255, 0.2); color: #e2e8f0; }
    </style>
</div>
</body>
</html>
